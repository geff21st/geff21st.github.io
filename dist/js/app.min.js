function ksort(e){var t=Object.keys(e).sort(),o={};for(var r in t)o[t[r]]=e[t[r]];return o}var loadPictures=function(){var e,t="/testmag.pdf";window.loaded=0,window.arrSrc={},PDFJS.workerSrc="//mozilla.github.io/pdf.js/build/pdf.worker.js",PDFJS.getDocument(t).then(function(t){e=t,console.log(e);for(var o=e.numPages,a=1;a<=o;a++)r(a,o)});var o=function(e,t){ksort(arrSrc);var o=document.querySelector(".pdf");$.each(arrSrc,function(e,t){var r=document.createElement("div");if(r.setAttribute("data-page",e),r.setAttribute("style","background-image: url("+t.src+")"),t.double){var a=r.cloneNode(!0);a.setAttribute("class","double double-left"),o.appendChild(a),r.setAttribute("class","double double-right")}o.appendChild(r),t.double&&console.log("cut")});var r=$(window).height()-40,a=Math.ceil(e*r/t);console.log(a,r),setTimeout(function(){loadApp(a,r)},1e3)},r=function(t,r){var a=document.createElement("canvas"),i=a.getContext("2d"),n=0,d=0;e.getPage(t).then(function(e){var c=1,l=e.getViewport(c);a.height=l.height,a.width=l.width;var u=e.render({canvasContext:i,viewport:l});u.promise.then(function(){l.width>n&&(n=l.width),l.height>d&&(d=l.height),arrSrc[t]={double:l.width>l.height,src:a.toDataURL("image/jpeg")},loaded++;var e=Math.floor(loaded/r*100);parent>50||($(".progress").text(e+"%").width(e+"%"),loaded===r&&o(n,d))})})}};
//# sourceMappingURL=app.min.js.map
